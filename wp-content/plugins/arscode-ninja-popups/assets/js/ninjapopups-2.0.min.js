/*!
 * Ninja Popups for WordPress
 * http://codecanyon.net/item/ninja-popups-for-wordpress/3476479?ref=arscode
 *
 * Copyright 2019, ARSCode
 */
;var NinjaPopupMain={config:{cookies:{ignoreCookies:false}},debugLevel:false,isDebugEnabled:function(){return NinjaPopupMain.debugLevel},setCookie:function(c,d,a){if(a==-2){return}if(a!=-1){a=a*1;var b={path:"/",expires:a}}else{var b={path:"/"}}if(this.config.cookies.ignoreCookies){Cookies.set(snp_cookie_prefix+""+c,d,b)}},startResponsive:function(b,j){var a=jQuery("#"+j).find(".snp-builder");if(b===false){var d=a.find(".snp-bld-showme")}else{var d=a.find("#snp-bld-step-"+b)}var g=jQuery(window).height();var h=jQuery(window).width();var i=h/d.data("width");var f=g/d.data("height");var c=((i>f)?f:i)-0.01;if(c>1){c=1}var e=d.parent(".snp-bld-step-cont");if(c<1){e.css("transform","translateX(-50%) translateY(-50%) scale("+c+")");e.css("-webkit-transform","translateX(-50%) translateY(-50%) scale("+c+")");e.css("-moz-transform","translateX(-50%) translateY(-50%) scale("+c+")");e.css("-ms-transform","translateX(-50%) translateY(-50%) scale("+c+")")}else{e.css("transform","");e.css("-webkit-transform","");e.css("-moz-transform","");e.css("-ms-transform","")}},startVideo:function(a){a.find(".snp-bld-video").each(function(){var b=jQuery(this).attr("data-src")+jQuery(this).attr("data-autoplay");jQuery(this).attr("src",b)})},stopVideo:function(a){a.find(".snp-bld-video").each(function(){var b=jQuery(this).attr("data-src");jQuery(this).attr("src",b)})},initMap:function(a){a.find(".snp-bld-googleMap").each(function(){jQuery(this).height(jQuery(this).parent().height());jQuery(this).width(jQuery(this).parent().width());var g;switch(jQuery(this).attr("data-mapType")){case"ROADMAP":g=google.maps.MapTypeId.ROADMAP;break;case"SATELLITE":g=google.maps.MapTypeId.SATELLITE;break;case"HYBRID":g=google.maps.MapTypeId.HYBRID;break;case"TERRAIN":g=google.maps.MapTypeId.TERRAIN;break}var d={center:new google.maps.LatLng(parseFloat(jQuery(this).attr("data-coordx")),parseFloat(jQuery(this).attr("data-coordy"))),zoom:parseInt(jQuery(this).attr("data-zoom")),mapTypeId:g};var e=jQuery(this);var h=new google.maps.Map(e[0],d);var b=new google.maps.LatLng(parseFloat(jQuery(this).attr("data-coordx")),parseFloat(jQuery(this).attr("data-coordy")));var f={position:b,map:h,icon:jQuery(this).attr("data-icon")};var c=new google.maps.Marker(f)})},callWebhook:function(a,b){if(a&&b){jQuery.ajax({url:a,type:"POST",dataType:"json",data:b})}}};var NinjaPopup={popupId:"",popupType:"",popupShowed:false,config:{},exitPopup:{href:"",target:""},init:function(c,d,b){var a=jQuery.parseJSON(b);this.popupId=c;this.popupType=d;this.config=a;jQuery(document).ready(function(){})},open:function(e,b){if(jQuery.fancybox2!==undefined&&jQuery.fancybox2.isOpen){return}var d=this;this.exitPopup.href=b.exitPopup.href;this.exitPopup.target=b.exitPopup.target;if(this.config.popupTheme==="builder"){jQuery("#"+this.config.popupDivId).appendTo("body");var a=jQuery(".snp-pop-"+this.config.popupId+" .snp-builder").not(".snp-pos-static").addClass("snp-bld-showme").find(".snp-bld-step-1");a.addClass("snp-bld-showme");NinjaPopupMain.startVideo(a);NinjaPopupMain.initMap(a);if(a.attr("data-overlay")!="disabled"){jQuery(".snp-pop-"+this.config.popupId+" .snp-overlay").addClass("snp-overlay-show")}if(jQuery("#snp-bld-step-bg-1").length>0){jQuery("#snp-bld-step-bg-1").mb_YTPlayer()}NinjaPopupMain.startResponsive(1,this.config.popupDivId);d.onOpenEvents()}else{var c={};if(this.config.overlayType=="disabled"){c.background="none"}jQuery.fancybox2({href:"#"+d.config.popupDivId,helpers:{overlay:{locked:false,closeClick:false,showEarly:false,speedOut:5,css:c}},padding:0,autoCenter:snp_is_mobile==true?false:true,autoDimensions:true,titleShow:false,closeBtn:(d.config.showReadyThemeCloseButton=="yes"?true:false),keys:{close:(d.config.showReadyThemeCloseButton=="yes"?[27]:"")},showNavArrows:false,wrapCSS:"snp-wrap",afterClose:function(){return d.onCloseEvents()},beforeShow:function(){return d.onOpenEvents()}})}},close:function(){this.internalCloseEvents();if(this.config.popupTheme==="builder"){var a=jQuery(".snp-pop-"+this.config.popupId+" .snp-builder").not(".snp-pos-static");var b=a.find(".snp-bld-showme");NinjaPopupMain.stopVideo(b);if(b.data("animation-close")!==undefined){b.removeClass("animated "+b.attr("data-animation"));b.addClass("animated "+b.attr("data-animation-close")).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){jQuery(this).removeClass("animated "+jQuery(this).attr("data-animation-close"));jQuery(this).removeClass("snp-bld-showme")})}else{b.removeClass("snp-bld-showme")}a.removeClass("snp-bld-showme");jQuery(".snp-pop-"+this.config.popupId+" .snp-overlay").removeClass("snp-overlay-show");this.onCloseEvents()}else{if(jQuery.fancybox2!==undefined&&jQuery.fancybox2.isOpen){jQuery.fancybox2.close()}}},submit:function(b){var c=jQuery.event.trigger({type:"ninja_popups_submit",popup_id:popup_ID});if(c===false){return false}var a=this.collectFormData(b);NinjaPopupMain.callWebhook(this.config.beforeOptinWebhookUrl,a);this.sendOptIn(a);NinjaPopupMain.callWebhook(this.config.afterOptinWebhookUrl,a);jQuery.event.trigger({type:"ninja_popups_submit_after",popup_id:popup_ID})},collectFormData:function(c){var a=this.config.formDataCollectType;if(typeof FormData!="undefined"){console.log("FormData is enabled");var b="form-object";var d=new FormData();d.append("action","snp_popup_submit");d.append("popup_ID",this.config.popupId);d.append("_wpnonce",snp_ajax_nonce)}else{console.log("FormData is disabled");var b="array";var d={};d.action="snp_popup_submit";d.popup_ID=this.config.popupId}if(a==="single"){c.find("button, input, select, textarea").each(function(){this.prepareFormArray(this,d,b)})}else{c.parents(".snppopup").find(".snp_subscribeform").each(function(){var e=jQuery(this);e.find("button, input, select, textarea").each(function(){this.prepareFormArray(this,d,b)})})}return d},prepareFormArray:function(b,c,a){if(a==="array"){if(b.name){if(b.type==="checkbox"||b.type==="radio"){if(b.checked){c[b.name]=b.value}}else{if(b.name==="np_custom_name2"){c[b.name]=1}else{c[b.name]=b.value}}}}else{if(a==="form-object"){if(b.name){if(b.type==="checkbox"||b.type==="radio"){if(b.checked){c.append(b.name,b.value)}}else{if(b.name==="np_custom_name2"){c.append(b.name,"1")}else{c.append(b.name,b.value)}}}}}},sendOptIn:function(a){jQuery.ajax({url:this.config.ajaxUrl,type:"POST",dataType:"json",data:a,contentType:false,processData:false,success:function(b){jQuery("input, textarea, select",form).removeClass("snp-error");this.internalCloseEvents();if(b.api_error_msg){alert(b.api_error_msg)}else{if(b.Ok==true){jQuery.event.trigger({type:"ninja_popups_ajax_response",response:b});if(form.data("analyzed")===true){}else{snp_onconvert("optin",popup_ID,ab_ID,(!nextstep&&!bld_nextstep?true:false))}form.data("analyzed",true);jQuery.event.trigger({type:"ninja_popups_submit_success",popup_id:popup_ID});if(snp_optin_redirect_url){console.log("Redirect URL:"+snp_optin_redirect_url);window.open(snp_optin_redirect_url,"_self")}if(bld_nextstep){snp_bld_gotostep(popup_ID,bld_nextstep)}else{if(nextstep){var c=submit_button.parents(".snp-fb");c.find(".snp-step-show").fadeOut(function(){jQuery(this).removeClass("snp-step-show");c.find(".snp-step-"+nextstep).fadeIn(function(){jQuery(this).addClass("snp-step-show")})})}else{if(text_success){submit_button.text(text_success);submit_button.val(text_success);setTimeout("snp_close();",800)}else{snp_close()}}}}else{if(b.Errors){jQuery.each(b.Errors,function(d,e){if(d=="captcha"){if(e=="1"){alert("Wrong captcha response!")}else{alert(e)}}else{jQuery("input[name='"+d+"'], textarea[name='"+d+"'], select[name='"+d+"']",form).addClass("snp-error");if(typeof jQuery.fn.tooltipster!=="undefined"){jQuery("input[name='"+d+"'], textarea[name='"+d+"'], select[name='"+d+"']",form).tooltipster({theme:"tooltipster-light",side:"right"}).tooltipster("content",e).tooltipster("open")}}})}if(text_loading){submit_button.html(text_submit);submit_button.val(text_submit)}jQuery.event.trigger({type:"ninja_popups_submit_error",popup_id:popup_ID})}}}})},onOpenEvents:function(){jQuery(".fancybox-overlay").addClass("snp-pop-"+this.config.popupId+"-overlay");jQuery(".snp-wrap").addClass("snp-pop-"+this.config.popupId+"-wrap");jQuery(".snp-wrap").addClass("snp-pop-"+this.config.popupTheme+"-wrap");jQuery.post(this.config.ajaxUrl,{action:"snp_popup_stats",type:"view",popup_ID:this.config.popupId,ab_ID:this.config.abId})},onCloseEvents:function(){},internalCloseEvents:function(){if(typeof jQuery.fn.tooltipster!=="undefined"){var a=jQuery.tooltipster.instances();if(a){jQuery.each(a,function(c,b){if(b!=="undefined"){try{b.close()}catch(d){}}})}}}};